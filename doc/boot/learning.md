Supervisor Binary Interface

RISC-VのOSを実装する上で非常に便利なのが、Supervisor Binary Interface(SBI)。
SBIはいわば、「カーネルのためのAPI」。APIが文字の表示やファイルの読み書きといったアプリケ>ションに提供する機能を定義しているように、SBIはファームウェアがOSに提供するきのうを定義している。

Githubで仕様書が公開されているらしい。https://github.com/riscv-non-isa/riscv-sbi-doc/releases


* kernel.ld

そもそも.ldファイルとは、

# リンカスクリプト
以下を参考
https://zenn.dev/hidenori3/books/55ce98070299db/viewer/81575c

リンカスクリプトとは、ビルドツールのlinkerに対して、オブジェクトファイルやライブラリをどのように結合し、最終的な実行ファイルやバイナリを生成するかを提示するための設定ファイル。
パイパーバイザ/OS開発においては、メモリのレイアウトやセクションの配置を詳細に制御する必要があるため、このリンカスクリプトは重要になってくる。

# リンカスクリプトの用途
リンカスクリプトは、通常テキストファイル形式で書かれ、GNUのldやLLVMのlldなどのリンカに渡される。

メモリレイアウトの制御
・通常はシステム(ハードウェア)の使用にしたがって、特定のコードやデータを特定の物理メモリに配置する必要がある。
;wq:


